apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'

sourceCompatibility = 1.6
targetCompatibility = 1.6

group = 'de.mb'
version = '1.0'
archivesBaseName = 'spring-batch-example'

mainClassName = 'org.springframework.batch.core.launch.support.CommandLineJobRunner'

repositories {
    mavenCentral()
}

dependencies {
	compile 'org.springframework:spring-beans:3.2.1.RELEASE'
	compile 'org.springframework.batch:spring-batch-core:2.1.9.RELEASE'
	compile 'log4j:log4j:1.2.17'	
	compile 'commons-lang:commons-lang:2.2'

	testCompile 'org.springframework:spring-test:3.2.1.RELEASE'
	testCompile 'org.springframework.batch:spring-batch-test:2.1.9.RELEASE'
    testCompile group: 'junit', name: 'junit', version: '4.+'
}

test {
    systemProperties 'property': 'value'
}

/*
 * Execute the batch job with this gradle task
 *
 * i.e.: gradle run -Pargs='applicationContext.xml customerJob'
 *
 */
run {
	if ( project.hasProperty('args') ) {
		args project.args.split('\\s+')
	}
}
